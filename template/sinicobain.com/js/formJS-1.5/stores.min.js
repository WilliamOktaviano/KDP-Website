function Stores(t){var e,o,i=this,n=t.mapObj,r=t.location,a=[];this.showInfo=function(t,o){properties=a[o].properties,geometry=a[o].geometry;var i=properties.name,n=properties.address,r=properties.phone?'<i class="fas fa-phone" style="margin-right:0.5em"></i>'+properties.phone:"",s=geometry.coordinates;s={lat:s[1],lng:s[0]};var l='<div style="width:300px"><h3 style="margin-top:0;">'+i+"</h3><p>"+n+"</p><p>"+r+"</p></div>";e.setContent(l),e.setPosition(s),e.setOptions({pixelOffset:new google.maps.Size(0,-30)}),e.open(t),t.panTo(s)},this.setCurrentLocation=function(){navigator.geolocation.getCurrentPosition(function(t){initLat=t.coords.latitude,initLng=t.coords.longitude,o={lat:initLat,lng:initLng},$(".direction").css("display","inline-block")})},this.loadOnReady=function(){var t=r.features[0].geometry.coordinates,s=new GMap({mapObj:n}),l=s.createMapObj({lat:t[1],lng:t[0]},{zoom:11});navigator.geolocation&&i.setCurrentLocation(),e=new google.maps.InfoWindow;var p=r.features;$.each(p,function(t){var e=p[t].properties.pkey;a[e]=p[t]});l.data.addGeoJson(r,{idPropertyName:"storeid"});l.data.addListener("click",function(t){var e=t.feature.getProperty("pkey");i.showInfo(l,e)}),$(".store-list li .name, .store-list li .address").bind("click",function(t){i.showInfo(l,$(this).closest("li").attr("relkey"))}),$(".store-list li .direction").bind("click",function(t){var e=$(this).closest("li").attr("relkey");geometry=a[e].geometry;var i=geometry.coordinates;o&&s.calcRoute(l,o,{lat:i[1],lng:i[0]})})}}