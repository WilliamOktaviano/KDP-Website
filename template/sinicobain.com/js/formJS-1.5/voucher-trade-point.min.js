function VoucherTradePoint(){this.loadOnReady=function(){$(".voucher-item").click(function(){var a=new Array;a.url="/popup-voucher-tnc/"+$(this).attr("rel-voucherkey"),loadOverlayScreen(a)}),$("[name=btnSave]").click(function(){$("[name='qty[]']").val(0),$(this).closest(".content-panel").find("[name='qty[]']").val(1)}),$(".mnv-form-voucher").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{}}).on("success.form.bv",function(a){$("[name=btnSave]").prop("disabled",!0).addClass("btn-primary-loading"),a.preventDefault();var o=$(a.target);o.data("bootstrapValidator");disableButton(o.find("[name=btnSave]")),$.post(o.attr("action"),o.serialize(),function(a){disableButton(o.find("[name=btnSave]"),!1),$("[name=btnSave]").removeClass("btn-primary-loading");var t="";for(i=0;i<a.length;i++)t=t+"<li>"+a[i].message+"</li>";""!=t&&(t='<ul class="message-dialog-ul">'+t+"</ul>");var e=o.find(".notification-msg");e.html(t).hide().fadeToggle("fast"),a[0].valid?(setStatusColorNotification(e,2),location.href="/voucher"):(setStatusColorNotification(e,1),o.data("bootstrapValidator").resetForm(),scrollToTopForm(o))},"json")})}}